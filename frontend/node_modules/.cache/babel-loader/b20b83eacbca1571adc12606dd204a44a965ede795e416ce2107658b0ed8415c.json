{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\S08P22C104\\\\frontend\\\\src\\\\pages\\\\Isbn\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useCallback, useEffect } from \"react\";\nimport Webcam from \"react-webcam\";\nimport styled from \"styled-components\";\nimport { CameraIcon } from \"@heroicons/react/24/outline\";\nimport Check from \"./Check\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getBookInfo, postBookId } from \"../../apis/isbn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst videoConstraints = {\n  width: 360,\n  height: 740,\n  // facingMode: \"environment\",\n  facingMode: \"user\"\n};\nexport const Isbn = () => {\n  _s();\n  const navigate = useNavigate();\n  const webcamRef = useRef(null);\n  const [url, setUrl] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [bookId, setBookId] = useState(0);\n  const capture = useCallback(() => {\n    var _webcamRef$current;\n    const imageSrc = (_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : _webcamRef$current.getScreenshot();\n    if (imageSrc) {\n      setUrl(imageSrc);\n    }\n  }, [webcamRef]);\n  const bookGet = async url => {\n    const data = await getBookInfo(url);\n    setTitle(data.title);\n    setBookId(data.id);\n  };\n  useEffect(() => {\n    if (url) {\n      bookGet(url);\n    }\n  }, [url]);\n  const bookCheck = async () => {\n    await postBookId(bookId);\n  };\n  const clickNoBtn = () => {\n    setTitle(\"\");\n  };\n  const clickYesBtn = () => {\n    bookCheck();\n    alert(\"등록되었습니다.\");\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !title ? /*#__PURE__*/_jsxDEV(Cam, {\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        audio: false,\n        ref: webcamRef,\n        screenshotFormat: \"image/png\",\n        videoConstraints: videoConstraints\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Barcode, {\n        children: [/*#__PURE__*/_jsxDEV(BarcodeBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BarcodeText, {\n          children: [\"\\uB3C4\\uC11C \\uBC14\\uCF54\\uB4DC\\uB97C \\uC0AC\\uAC01\\uD615 \\uC548\\uC5D0 \\uB9DE\\uCD94\\uACE0\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), \"\\uC0AC\\uC9C4\\uC744 \\uCC0D\\uC5B4 \\uCC45\\uC744 \\uB4F1\\uB85D\\uD558\\uC138\\uC694!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          capture;\n        },\n        children: /*#__PURE__*/_jsxDEV(Camera, {\n          children: /*#__PURE__*/_jsxDEV(CameraIcon, {\n            width: \"40px\",\n            strokeWidth: \"1.5px\",\n            color: \"#ffffff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Check, {\n      title: title,\n      clickNoBtn: clickNoBtn,\n      clickYesBtn: clickYesBtn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n// styled component\n_s(Isbn, \"enkca29GKqeEa0o8rEbQ81+fZ3s=\", false, function () {\n  return [useNavigate];\n});\n_c = Isbn;\nconst Cam = styled.div``;\n_c2 = Cam;\nconst Barcode = styled.div`\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c3 = Barcode;\nconst BarcodeBox = styled.div`\n  height: 35%;\n  width: 95%;\n  top: 20%;\n  position: fixed;\n  border: 4px solid black;\n`;\n_c4 = BarcodeBox;\nconst BarcodeText = styled.div`\n  text-align: center;\n  top: 58%;\n  position: fixed;\n  font-weight: bold;\n`;\n_c5 = BarcodeText;\nconst Button = styled.div`\n  z-index: 999;\n  border-radius: 100px;\n  height: 80px;\n  width: 80px;\n  background-color: black;\n  top: 83%;\n  left: 40%;\n  position: fixed;\n`;\n_c6 = Button;\nconst Camera = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n_c7 = Camera;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Isbn\");\n$RefreshReg$(_c2, \"Cam\");\n$RefreshReg$(_c3, \"Barcode\");\n$RefreshReg$(_c4, \"BarcodeBox\");\n$RefreshReg$(_c5, \"BarcodeText\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"Camera\");","map":{"version":3,"names":["useRef","useState","useCallback","useEffect","Webcam","styled","CameraIcon","Check","useNavigate","getBookInfo","postBookId","jsxDEV","_jsxDEV","videoConstraints","width","height","facingMode","Isbn","_s","navigate","webcamRef","url","setUrl","title","setTitle","bookId","setBookId","capture","_webcamRef$current","imageSrc","current","getScreenshot","bookGet","data","id","bookCheck","clickNoBtn","clickYesBtn","alert","children","Cam","audio","ref","screenshotFormat","fileName","_jsxFileName","lineNumber","columnNumber","Barcode","BarcodeBox","BarcodeText","Button","onClick","Camera","strokeWidth","color","_c","div","_c2","_c3","_c4","_c5","_c6","_c7","$RefreshReg$"],"sources":["C:/Users/multicampus/Desktop/S08P22C104/frontend/src/pages/Isbn/index.tsx"],"sourcesContent":["import { useRef, useState, useCallback, useEffect } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport styled from \"styled-components\";\r\nimport { CameraIcon } from \"@heroicons/react/24/outline\";\r\nimport Check from \"./Check\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getBookInfo, postBookId } from \"../../apis/isbn\";\r\n\r\nconst videoConstraints = {\r\n  width: 360,\r\n  height: 740,\r\n  // facingMode: \"environment\",\r\n  facingMode: \"user\",\r\n};\r\n\r\nexport const Isbn = () => {\r\n  const navigate = useNavigate();\r\n  const webcamRef = useRef<Webcam>(null);\r\n  const [url, setUrl] = useState<string>(\"\");\r\n  const [title, setTitle] = useState<string>(\"\");\r\n  const [bookId, setBookId] = useState<number>(0);\r\n\r\n  const capture = useCallback(() => {\r\n    const imageSrc = webcamRef.current?.getScreenshot();\r\n    if (imageSrc) {\r\n      setUrl(imageSrc);\r\n    }\r\n  }, [webcamRef]);\r\n\r\n  const bookGet = async (url: string) => {\r\n    const data = await getBookInfo(url);\r\n    setTitle(data.title);\r\n    setBookId(data.id);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      bookGet(url);\r\n    }\r\n  }, [url]);\r\n\r\n  const bookCheck = async () => {\r\n    await postBookId(bookId);\r\n  };\r\n\r\n  const clickNoBtn = () => {\r\n    setTitle(\"\");\r\n  };\r\n\r\n  const clickYesBtn = () => {\r\n    bookCheck();\r\n    alert(\"등록되었습니다.\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!title ? (\r\n        <Cam>\r\n          <Webcam\r\n            audio={false}\r\n            ref={webcamRef}\r\n            screenshotFormat=\"image/png\"\r\n            videoConstraints={videoConstraints}\r\n          />\r\n          <Barcode>\r\n            <BarcodeBox />\r\n            <BarcodeText>\r\n              도서 바코드를 사각형 안에 맞추고\r\n              <br />\r\n              사진을 찍어 책을 등록하세요!\r\n            </BarcodeText>\r\n          </Barcode>\r\n          <Button\r\n            onClick={() => {\r\n              capture;\r\n            }}\r\n          >\r\n            <Camera>\r\n              <CameraIcon\r\n                width=\"40px\"\r\n                strokeWidth=\"1.5px\"\r\n                color=\"#ffffff\"\r\n              ></CameraIcon>\r\n            </Camera>\r\n          </Button>\r\n        </Cam>\r\n      ) : (\r\n        <Check\r\n          title={title}\r\n          clickNoBtn={clickNoBtn}\r\n          clickYesBtn={clickYesBtn}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// styled component\r\nconst Cam = styled.div``;\r\n\r\nconst Barcode = styled.div`\r\n  z-index: 999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst BarcodeBox = styled.div`\r\n  height: 35%;\r\n  width: 95%;\r\n  top: 20%;\r\n  position: fixed;\r\n  border: 4px solid black;\r\n`;\r\n\r\nconst BarcodeText = styled.div`\r\n  text-align: center;\r\n  top: 58%;\r\n  position: fixed;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Button = styled.div`\r\n  z-index: 999;\r\n  border-radius: 100px;\r\n  height: 80px;\r\n  width: 80px;\r\n  background-color: black;\r\n  top: 83%;\r\n  left: 40%;\r\n  position: fixed;\r\n`;\r\n\r\nconst Camera = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}